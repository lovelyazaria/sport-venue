<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Booking Successful - Sports Field Booking</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <section class="success-page">
        <div class="success-card">
            <div class="success-header">
                <div class="success-icon-circle">
                    <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
                        <path fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
                    </svg>
                </div>
                <h1>Booking Berhasil! ðŸŽ‰</h1>
                <p class="booking-id-text">ID Booking: <span id="booking-id-display">#000</span></p>
            </div>

            <div class="booking-info-list">
                <div class="info-row">
                    <span class="info-label">Nama Pelanggan</span>
                    <span class="info-value" id="booking-name">-</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Lapangan</span>
                    <span class="info-value" id="booking-sport">-</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Tanggal</span>
                    <span class="info-value" id="booking-date">-</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Jam Mulai</span>
                    <span class="info-value special" id="booking-time">WIB</span>
                </div>
                <div class="info-row">
                    <span class="info-label">Durasi</span>
                    <span class="info-value special" id="booking-duration">Jam</span>
                </div>
                <div class="info-row" style="border-top: 1px dashed #ddd; margin-top: 10px; padding-top: 10px;">
                    <span class="info-label">Total Bayar</span>
                    <span class="info-value" id="booking-total" style="color: #f97316; font-weight: bold;">Rp 0</span>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn-save" onclick="window.print()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
                        <polyline points="17 21 17 13 7 13 7 21"/>
                        <polyline points="7 3 7 8 15 8"/>
                    </svg>
                    Simpan Bukti
                </button>
                <a href="index.html" class="btn-home">Kembali ke Home</a>
            </div>
        </div>
    </section>

    <script>
        window.addEventListener('DOMContentLoaded', function() {
            // Ambil data dari localStorage
            const rawData = localStorage.getItem('dataBookingUser');
            
            if (rawData) {
                const data = JSON.parse(rawData);

                // 1. Tampilkan ID Booking Acak
                const randomId = Math.floor(100000 + Math.random() * 900000);
                document.getElementById('booking-id-display').textContent = '#' + randomId;

                // 2. Isi Data Dasar
                document.getElementById('booking-name').textContent = data.name || '-';
                document.getElementById('booking-sport').textContent = data.sport || '-';
                document.getElementById('booking-time').textContent = (data.time || '-') + ' WIB';
                document.getElementById('booking-duration').textContent = (data.duration || '-') + ' Jam';
                
                // 3. Isi Total Harga (Data diambil dari totalDisplay.value di script.js)
                if (data.total) {
                    document.getElementById('booking-total').textContent = data.total;
                }

                // 4. Format Tanggal Indonesia
                if (data.date) {
                    const dateObj = new Date(data.date + 'T00:00:00');
                    const options = { year: 'numeric', month: 'long', day: 'numeric' };
                    document.getElementById('booking-date').textContent = dateObj.toLocaleDateString('id-ID', options);
                }
            } else {
                alert("Data tidak ditemukan!");
                window.location.href = 'booking.html';
            }
        });
    </script>
</body>
</html>